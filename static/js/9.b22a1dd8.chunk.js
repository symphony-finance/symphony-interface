(this["webpackJsonpsymphony-finance"]=this["webpackJsonpsymphony-finance"]||[]).push([[9],{1269:function(e,n,t){},1270:function(e,n,t){},1271:function(e,n,t){},1274:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return ir}));var r=t(0),a=t.n(r),o=t(1),c=t.n(o),u=t(41),i=t(21),l=t(23),s=t(67),d=t(14),f=t(127),m=t(105),p=t(32),b=t(942),v=t(46),g=t(17),O=t(54),h=t(20),j=t(61),E=t(1266),y=t.n(E),x=t(26),w=t(944),k=(t(1267),t(118)),T=t(45),N=t(25);function C(){return(C=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function A(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var S=a.a.createElement("path",{d:"M0.97168 1L6.20532 6L11.439 1",stroke:"#AEAEAE"}),B=function(e){var n=e.svgRef,t=e.title,r=A(e,["svgRef","title"]);return a.a.createElement("svg",C({width:12,height:7,viewBox:"0 0 12 7",fill:"none",ref:n},r),t?a.a.createElement("title",null,t):null,S)},R=a.a.forwardRef((function(e,n){return a.a.createElement(B,C({svgRef:n},e))})),I=(t.p,t(193));function D(){return(D=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function L(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var G=a.a.createElement("g",null,a.a.createElement("polygon",{fill:"#343434",points:"127.9611 0 125.1661 9.5 125.1661 285.168 127.9611 287.958 255.9231 212.32"}),a.a.createElement("polygon",{fill:"#8C8C8C",points:"127.962 0 0 212.32 127.962 287.959 127.962 154.158"}),a.a.createElement("polygon",{fill:"#3C3C3B",points:"127.9611 312.1866 126.3861 314.1066 126.3861 412.3056 127.9611 416.9066 255.9991 236.5866"}),a.a.createElement("polygon",{fill:"#8C8C8C",points:"127.962 416.9052 127.962 312.1852 0 236.5852"}),a.a.createElement("polygon",{fill:"#141414",points:"127.9611 287.9577 255.9211 212.3207 127.9611 154.1587"}),a.a.createElement("polygon",{fill:"#393939",points:"0.0009 212.3208 127.9609 287.9578 127.9609 154.1588"})),P=function(e){var n=e.svgRef,t=e.title,r=L(e,["svgRef","title"]);return a.a.createElement("svg",D({width:"256px",height:"417px",viewBox:"0 0 256 417",preserveAspectRatio:"xMidYMid",ref:n},r),t?a.a.createElement("title",null,t):null,G)},H=a.a.forwardRef((function(e,n){return a.a.createElement(P,D({svgRef:n},e))}));t.p;function M(){var e=Object(d.a)(["\n  width: ",";\n  height: ",";\n"]);return M=function(){return e},e}function V(){var e=Object(d.a)(["\n  width: ",";\n  height: ",";\n"]);return V=function(){return e},e}function U(){var e=Object(d.a)(["\n  width: ",";\n  height: ",";\n  background-color: white;\n  border-radius: 1rem;\n"]);return U=function(){return e},e}var _={},z=g.default.img(U(),(function(e){return e.size}),(function(e){return e.size})),F=g.default.span(V(),(function(e){return e.size}),(function(e){return e.size})),W=Object(g.default)(H)(M(),(function(e){return e.size}),(function(e){return e.size}));function q(e){var n=e.address,t=e.size,o=void 0===t?"1rem":t,c=Object(s.a)(e,["address","size"]),u=Object(r.useState)(!1),l=Object(i.a)(u,2),d=l[0],f=l[1],m="";return"ETH"===n?a.a.createElement(W,{size:o}):d||_[n]?a.a.createElement(F,Object.assign({},c,{size:o}),a.a.createElement("span",{style:{lineHeight:0},role:"img","aria-label":"Thinking"},"\ud83c\udf15")):(m=function(e){return"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/".concat(Object(N.t)(e),"/logo.png")}(n.toLowerCase()),a.a.createElement(z,Object.assign({},c,{alt:n,src:m,size:o,onError:function(){_[n]=!0,f(!0)}})))}var $=t(268),J=t.n($),Y=t(161),Z=t(139),X=t(142),K=t(266),Q=t.n(K),ee=t(75);function ne(){var e=Object(d.a)(["\n  margin: 0 0.25rem 0 0.25rem;\n  color: ",";\n  opacity: 0.6;\n"]);return ne=function(){return e},e}function te(){var e=Object(d.a)(["\n  margin: 0 0.25rem 0 0.25rem;\n"]);return te=function(){return e},e}function re(){var e=Object(d.a)(["\n  ",";\n  align-items: flex-end;\n"]);return re=function(){return e},e}function ae(){var e=Object(d.a)(["\n  font-size: 1rem;\n  line-height: 1.5rem;\n  color: ",";\n"]);return ae=function(){return e},e}function oe(){var e=Object(d.a)(["\n  font-size: 1rem;\n  line-height: 20px;\n"]);return oe=function(){return e},e}function ce(){var e=Object(d.a)(["\n  color: ",";\n"]);return ce=function(){return e},e}function ue(){var e=Object(d.a)(["\n  ",";\n  margin-left: 1rem;\n"]);return ue=function(){return e},e}function ie(){var e=Object(d.a)(["\n  ","\n  align-items : center;\n"]);return ie=function(){return e},e}function le(){var e=Object(d.a)(["padding: 0.8rem 1rem;"]);return le=function(){return e},e}function se(){var e=Object(d.a)(["\n  ","\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem;\n  cursor: pointer;\n  user-select: none;\n\n  #symbol {\n    color: ",";\n  }\n\n  :hover {\n    background-color: ",";\n  }\n\n  ","\n"]);return se=function(){return e},e}function de(){var e=Object(d.a)(["\n  flex-grow: 1;\n  height: 100%;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n"]);return de=function(){return e},e}function fe(){var e=Object(d.a)(["\n  ","\n  align-items: center;\n  padding: 1rem 1.5rem;\n  margin: 0.25rem 0.5rem;\n  justify-content: center;\n  user-select: none;\n"]);return fe=function(){return e},e}function me(){var e=Object(d.a)(["\n  ","\n  justify-content: flex-start;\n  padding: 0.5rem 1.5rem;\n  background-color: ",";\n"]);return me=function(){return e},e}function pe(){var e=Object(d.a)(["\n  position: absolute;\n  right: 1rem;\n  top: 14px;\n  &:hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n"]);return pe=function(){return e},e}function be(){var e=Object(d.a)(["\n  path {\n    stroke: ",";\n  }\n"]);return be=function(){return e},e}function ve(){var e=Object(d.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0px 0px 0px 1rem;\n  height: 60px;\n"]);return ve=function(){return e},e}function ge(){var e=Object(d.a)(["\n  ","\n  width: 100%;\n"]);return ge=function(){return e},e}function Oe(){var e=Object(d.a)(["\n  color: ",";\n  :hover {\n    cursor: pointer;\n    color: ",";\n  }\n"]);return Oe=function(){return e},e}function he(){var e=Object(d.a)(["\n  flex: 1 1 auto;\n  width: 0;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]);return he=function(){return e},e}function je(){var e=Object(d.a)(["\n  ","\n  align-items: center;\n  color: ",";\n  font-size: 0.75rem;\n  line-height: 1rem;\n  padding: 0.75rem 1rem;\n  span:hover {\n    cursor: pointer;\n    color: ",";\n  }\n"]);return je=function(){return e},e}function Ee(){var e=Object(d.a)(["\n  border-radius: 1.25rem;\n  border: 1px solid ",";\n\n  background-color: ",";\n  :focus-within {\n    border: 1px solid ",";\n  }\n"]);return Ee=function(){return e},e}function ye(){var e=Object(d.a)(["\n  ","\n  box-shadow: 0 4px 8px 0 ",";\n  position: relative;\n  border-radius: 1.25rem;\n  background-color: ",";\n  z-index: 1;\n"]);return ye=function(){return e},e}function xe(){var e=Object(d.a)(["\n  margin: 0 0.5rem 0 0.5rem;\n  height: 35%;\n\n  path {\n    stroke: ",";\n  }\n"]);return xe=function(){return e},e}function we(){var e=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]);return we=function(){return e},e}function ke(){var e=Object(d.a)(["\n  align-items: center;\n  font-size: 1rem;\n  color: ",";\n  height: 2rem;\n  border: 1px solid ",";\n  border-radius: 2.5rem;\n  background-color: #fafafa;\n  outline: none;\n  cursor: pointer;\n  user-select: none;\n\n  :hover {\n    border: 1px solid\n      ",";\n  }\n\n  :focus {\n    border: 1px solid ",";\n  }\n"]);return ke=function(){return e},e}function Te(){var e=Object(d.a)(["\n  min-height: 2.5rem;\n  flex-shrink: 0;\n  text-align: left;\n  padding-left: 1.6rem;\n  background-color: ",";\n"]);return Te=function(){return e},e}function Ne(){var e=Object(d.a)(["\n  font-size: 1.5rem;\n  color: ",";\n  background-color: ",";\n  -moz-appearance: textfield;\n"]);return Ne=function(){return e},e}function Ce(){var e=Object(d.a)(["\n  ","\n  align-items: center;\n\n  padding: 0.25rem 0.85rem 0.75rem;\n"]);return Ce=function(){return e},e}function Ae(){var e=Object(d.a)(["\n  ","\n  padding: 4px 50px 4px 15px;\n  margin-right: -40px;\n  line-height: 0;\n  height: 2rem;\n  align-items: center;\n  border-radius: 2.5rem;\n  outline: none;\n  cursor: pointer;\n  user-select: none;\n  background: ",";\n  border: 1px solid ",";\n  color: ",";\n"]);return Ae=function(){return e},e}var Se=v.a.BigNumber.from(1e3),Be=g.default.button(Ae(),(function(e){return e.theme.flexRowNoWrap}),(function(e){return e.theme.zumthorBlue}),(function(e){return e.theme.royalGreen}),(function(e){return e.theme.royalGreen})),Re=g.default.div(Ce(),(function(e){return e.theme.flexRowNoWrap})),Ie=Object(g.default)(O.a)(Ne(),(function(e){var n=e.error,t=e.theme;return n&&t.salmonRed}),(function(e){return e.theme.inputBackground})),De=Object(g.default)(O.a)(Te(),(function(e){return e.theme.concreteGray})),Le=g.default.button(ke(),(function(e){var n=e.selected,t=e.theme;return n?t.textColor:t.royalGreen}),(function(e){var n=e.selected,t=e.theme;return n?t.mercuryGray:t.royalGreen}),(function(e){var n=e.selected,t=e.theme;return n?Object(x.a)(.1,t.mercuryGray):Object(x.a)(.1,t.royalGreen)}),(function(e){var n=e.theme;return Object(x.a)(.1,n.royalGreen)})),Ge=g.default.span(we()),Pe=Object(g.default)(R)(xe(),(function(e){var n=e.selected,t=e.theme;return n?t.textColor:t.royalGreen})),He=g.default.div(ye(),(function(e){return e.theme.flexColumnNoWrap}),(function(e){var n=e.theme;return Object(x.c)(.95,n.shadowColor)}),(function(e){return e.theme.inputBackground})),Me=g.default.div(Ee(),(function(e){var n=e.error,t=e.theme;return n?t.salmonRed:t.mercuryGray}),(function(e){return e.theme.inputBackground}),(function(e){return e.theme.malibuGreen})),Ve=g.default.div(je(),(function(e){return e.theme.flexRowNoWrap}),(function(e){return e.theme.doveGray}),(function(e){var n=e.theme;return Object(x.a)(.2,n.doveGray)})),Ue=g.default.div(he()),_e=g.default.span(Oe(),(function(e){var n=e.error,t=e.theme;return n&&t.salmonRed}),(function(e){var n=e.error,t=e.theme;return n&&Object(x.a)(.1,t.salmonRed)})),ze=g.default.div(ge(),(function(e){return e.theme.flexColumnNoWrap})),Fe=g.default.div(ve()),We=Object(g.default)(X.a)(be(),(function(e){return e.theme.textColor})),qe=g.default.div(pe()),$e=g.default.div(me(),(function(e){return e.theme.flexRowNoWrap}),(function(e){return e.theme.concreteGray})),Je=g.default.div(fe(),(function(e){return e.theme.flexRowNoWrap})),Ye=g.default.div(de()),Ze=g.default.div(se(),(function(e){return e.theme.flexRowNoWrap}),(function(e){return e.theme.doveGrey}),(function(e){return e.theme.tokenRowHover}),(function(e){return e.theme.mediaWidth.upToMedium(le())})),Xe=g.default.div(ie(),(function(e){return e.theme.flexRowNoWrap})),Ke=g.default.div(ue(),(function(e){return e.theme.flexColumnNoWrap})),Qe=g.default.div(ce(),(function(e){return e.theme.chaliceGray})),en=g.default.div(oe()),nn=g.default.div(ae(),(function(e){return e.theme.chaliceGray})),tn=g.default.div(re(),(function(e){return e.theme.flexColumnNoWrap})),rn=g.default.span(te()),an=Object(g.default)(O.e)(ne(),(function(e){return e.theme.chaliceGray}));function on(e){var n=e.onValueChange,t=void 0===n?function(){}:n,o=e.allBalances,l=e.renderInput,s=e.onCurrencySelected,d=void 0===s?function(){}:s,f=e.title,p=e.description,b=e.extraText,g=e.extraTextClickHander,O=void 0===g?function(){}:g,h=e.errorMessage,j=e.disableUnlock,E=e.disableTokenSelect,y=e.selectedTokenAddress,x=void 0===y?"":y,k=e.showUnlock,C=e.value,A=e.showCurrencySelector,S=void 0===A||A,B=Object(m.b)().t,R=Object(r.useState)(!1),I=Object(i.a)(R,2),D=I[0],L=I[1],G=Object(T.l)(x),P=Object(Z.c)(x).exchangeAddress,H=Object(Y.h)(x),M=Object(Y.i)(),V=Object(Z.b)();return a.a.createElement(He,null,a.a.createElement(Me,{error:!!h},a.a.createElement(Ve,null,a.a.createElement(Ue,null,a.a.createElement("span",null,f)," ",a.a.createElement("span",null,p)),a.a.createElement(_e,{"data-tip":"Enter max",error:!!h,onClick:function(){O()}},a.a.createElement(w.a,{label:"Enter Max",style:{background:"hsla(0, 0%, 0%, 0.75)",color:"white",border:"none",borderRadius:"24px",padding:"0.5em 1em",marginTop:"-64px"}},a.a.createElement("span",null,b)))),"function"===typeof l?l():a.a.createElement(Re,null,a.a.createElement(Ie,{type:"number",min:"0",error:!!h,placeholder:"0.0",step:"0.000000000000000001",onChange:function(e){return t(e.target.value)},onKeyPress:function(e){45===(e.which?e.which:e.keyCode)&&(e.preventDefault(),e.stopPropagation())},value:C}),!j&&k&&"ETH"!==x&&x?H?a.a.createElement(Be,null,B("pending")):a.a.createElement(Be,{onClick:Object(u.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.estimate.approve(P,v.a.constants.MaxUint256);case 2:n=e.sent,G.approve(P,v.a.constants.MaxUint256,{gasLimit:Object(N.b)(n,Se)}).then((function(e){M(e,{approval:x})}));case 4:case"end":return e.stop()}}),e)})))},B("unlock")):null,S?a.a.createElement(Le,{selected:!!x,onClick:function(){E||L(!0)}},a.a.createElement(Ge,null,x?a.a.createElement(q,{address:x}):null,a.a.createElement(rn,null,V[x]&&V[x].symbol||B("selectToken")),!E&&a.a.createElement(Pe,{selected:!!x}))):null)),!E&&a.a.createElement(cn,{isOpen:D,onDismiss:function(){L(!1)},onTokenSelect:d,allBalances:o}))}function cn(e){var n=e.isOpen,t=e.onDismiss,o=e.onTokenSelect,c=e.allBalances,u=Object(m.b)().t,l=Object(r.useState)(""),s=Object(i.a)(l,2),d=s[0],f=s[1],p=Object(Z.c)(d).name,b=Object(Z.b)(),v=Object(ee.d)(),g=Object.keys(b).map((function(e){if(v&&c&&c[e]&&c[e].ethRate&&!c[e].ethRate.isNaN()&&c[e].balance){var n=v.times(c[e].ethRate);return new j.BigNumber(c[e].balance.toString()).times(n).div(new j.BigNumber(10).pow(b[e].decimals))}return null})),O=g&&Object.keys(b).reduce((function(e,n,t){return Object.assign(Object(h.a)({},n,g[t]),e)}),{}),E=Object(r.useMemo)((function(){return Object.keys(b).filter((function(e){return b[e].symbol})).sort((function(e,n){var t=b[e].symbol.toLowerCase(),r=b[n].symbol.toLowerCase();if(t==="ETH".toLowerCase()||r==="ETH".toLowerCase())return t===r?0:t==="ETH".toLowerCase()?-1:1;if(t==="WETH".toLowerCase()||r==="WETH".toLowerCase())return t===r?0:t==="WETH".toLowerCase()?-1:1;if(c){var a=c[e]?c[e].balance:null,o=c[n]?c[n].balance:null;if(a&&!o)return-1;if(!a&&o)return 1;if(a&&a)return a.gt(o)?-1:1}return t<r?-1:t>r?1:0})).map((function(e){var n,t;return"ETH"===e&&c&&c[e]?(n=Object(N.c)(c[e].balance),t=O[e]):c&&c[e]&&(n=Object(N.e)(c[e].balance,b[e].decimals),t=O[e]),{name:b[e].name,symbol:b[e].symbol,address:e,balance:n,usdBalance:t}}))}),[c,b,O]),x=Object(r.useMemo)((function(){return E.filter((function(e){return Object.keys(e).map((function(n){return"string"===typeof e[n]&&!!e[n].match(new RegExp(y()(d),"i"))})).some((function(e){return e}))}))}),[E,d]);var w=Object(r.useRef)();function T(){f(""),t()}return a.a.createElement(I.a,{isOpen:n,onDismiss:T,minHeight:60,initialFocusRef:k.isMobile?void 0:w},a.a.createElement(ze,null,a.a.createElement(Fe,null,a.a.createElement("p",null,"Select Token"),a.a.createElement(qe,{onClick:T},a.a.createElement(We,{alt:"close icon"}))),a.a.createElement($e,null,a.a.createElement("img",{src:J.a,alt:"search"}),a.a.createElement(De,{ref:w,type:"text",placeholder:k.isMobile?u("searchOrPasteMobile"):u("searchOrPaste"),onChange:function(e){var n=e.target.value,t=Object(N.t)(n);f(t||n)}})),a.a.createElement(Ye,null,Object(N.t)(d)&&void 0===p?a.a.createElement(Je,null,"Searching for Exchange..."):x.length?x.map((function(e){var n=e.address,r=e.symbol,c=e.name,u=e.balance,i=e.usdBalance;return a.a.createElement(Ze,{key:n,onClick:function(){return function(e){f(""),o(e),t()}(n)}},a.a.createElement(Xe,null,a.a.createElement(q,{address:n,size:"2rem"}),a.a.createElement(Ke,null,a.a.createElement("span",{id:"symbol"},r),a.a.createElement(Qe,null,c))),a.a.createElement(tn,null,u?a.a.createElement(en,null,u&&(u>0||"<0.0001"===u)?u:"-"):a.a.createElement(an,{src:Q.a,alt:"loader"}),a.a.createElement(nn,null,i?i.lt(.01)?"<$0.01":"$"+Object(N.d)(i):"")))})):a.a.createElement(Je,null,u("noExchange")))))}function un(){var e=Object(d.a)(["\n  position: absolute;\n  top: 80%;\n  left: 0;\n  height: 1rem;\n  width: 100%;\n  background-color: ",";\n"]);return un=function(){return e},e}function ln(){var e=Object(d.a)(["\n  content: '';\n  position: absolute;\n  top: -0.5rem;\n  left: 0;\n  height: 1rem;\n  width: 100%;\n  background-color: ",";\n"]);return ln=function(){return e},e}function sn(){var e=Object(d.a)(["\n  position: relative;\n  background-color: ",";\n  width: calc(100% - 1rem);\n  margin: 0 auto;\n  border-radius: 0.625rem;\n"]);return sn=function(){return e},e}var dn=g.default.div(sn(),(function(e){return e.theme.concreteGray})),fn=g.default.div(ln(),(function(e){return e.theme.concreteGray})),mn=g.default.div(un(),(function(e){return e.theme.concreteGray}));function pn(e){var n=e.hideTop,t=e.hideBottom,r=e.children;return a.a.createElement(dn,null,n||a.a.createElement(fn,null),r,t||a.a.createElement(mn,null))}var bn=function(e){return a.a.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 9 10",fill:"currentColor"},e),a.a.createElement("path",{d:"M5.298 0H4.24v7.911h-.075L1.256 4.932l-.717.735L4.769 10 9 5.667l-.718-.735-2.908 2.979h-.076V0z",fill:"currentColor"}))},vn=function(e){return a.a.createElement("svg",Object.assign({version:"1.1",style:{padding:"13px",width:"11px",height:"11px"}},e),a.a.createElement("line",{x1:"1",y1:"9",x2:"9",y2:"1",strokeWidth:"1"}),a.a.createElement("line",{x1:"1",y1:"1",x2:"9",y2:"9",strokeWidth:"1"}))},gn=function(e){return a.a.createElement("svg",Object.assign({version:"1.1",style:{padding:"13px",width:"11px",height:"11px"}},e),a.a.createElement("line",{x1:"1",y1:"9",x2:"9",y2:"1",strokeWidth:"1"}))},On=t(215),hn=t(216),jn=t(39),En=t(29),yn=t(1268),xn=t.n(yn),wn=t(133),kn=t(1273),Tn=t(42),Nn=t(210),Cn=t(126),An=t(63);function Sn(e){return-1!==["string","number"].indexOf(typeof e)}var Bn={valid:!1,blockNumber:void 0,data:void 0},Rn={valid:!1,result:void 0,loading:!1,syncing:!1,error:!1},In={valid:!0,result:void 0,loading:!0,syncing:!0,error:!1};function Dn(e,n,t,a,o){var c=Object(r.useMemo)((function(){return n.getFunction(t)}),[n,t]),u=Object(r.useMemo)((function(){return c&&function(e){return void 0===e||Array.isArray(e)&&e.every((function(e){return Sn(e)||Array.isArray(e)&&e.every(Sn)}))}(a)?n.encodeFunctionData(c,a):void 0}),[a,n,c]),i=function(e,n){var t=Object(T.a)().chainId,a=Object(Cn.c)((function(e){return e.multicall.callResults})),o=Object(Cn.b)(),c=Object(r.useMemo)((function(){try{var n=e.filter((function(e){return Boolean(e)})).map(An.f).sort();return JSON.stringify(n||[])}catch(t){return void console.log("error ",t.message)}}),[e]);return Object(r.useEffect)((function(){if(c){var e=JSON.parse(c);if(t&&0!==e.length){var r=e.map((function(e){return Object(An.d)(e)}));return o(Object(An.a)({chainId:t,calls:r,options:n})),function(){o(Object(An.e)({chainId:t,calls:r,options:n}))}}}}),[t,o,n,c]),Object(r.useMemo)((function(){return e.map((function(e){if(!t||!e)return Bn;var n,r=a[t]?a[t][Object(An.f)(e)]:void 0;return r&&r.data&&"0x"!==r.data&&(n=r.data),{valid:!0,data:n,blockNumber:r?r.blockNumber:void 0}}))}),[a,e,t])}(Object(r.useMemo)((function(){return c&&e&&e.length>0&&u?e.map((function(e){return e&&u?{address:e,callData:u}:void 0})):[]}),[e,u,c]),o),l=Object(T.b)();return Object(r.useMemo)((function(){return i.map((function(e){return function(e,n,t,r){if(!e)return Rn;var a=e.valid,o=e.data,c=e.blockNumber;if(!a)return Rn;if(a&&!c)return In;if(!n||!t||!r)return In;var u=o&&o.length>2,i=(c||0)<r,l=void 0;if(u&&o)try{l=n.decodeFunctionResult(t,o)}catch(s){return console.debug("Result data parsing failed",t,o),{valid:!0,loading:!1,error:!0,syncing:i,result:l}}return{valid:!0,loading:!1,syncing:i,result:l,error:!u}}(e,n,c,l)}))}),[c,i,n,l])}var Ln="LOADING",Gn="NOT_EXISTS",Pn="EXISTS",Hn="INVALID",Mn=new wn.b(Nn);function Vn(e,n,t){var a=Object(Z.c)(e),o=Object(Z.c)(t),c=t&&o&&o.decimals?"ETH"===t?En.c:new En.f(o.chainId,t,o.decimals,o.symbol,o.name):void 0,u=function(e,n){if(!e||!n)return;try{var t=Object(kn.a)(e.toString(),n.decimals).toString();if("0"!==t)return n instanceof En.f?new En.g(n,En.d.BigInt(t)):En.b.ether(En.d.BigInt(t))}catch(r){console.error('Failed to parse input amount: "'.concat(e,'"'),r)}return}(n,e?"ETH"===e?En.c:new En.f(a.chainId,e,a.decimals,a.symbol,a.name):void 0),l=function(e,n){var t=Object(T.a)().chainId,a=t?Tn.a[t]:[],o=t?[_n(e,t),_n(n,t)]:[void 0,void 0],c=Object(i.a)(o,2),u=c[0],l=c[1],s=Un(Object(r.useMemo)((function(){return[[u,l]].concat(Object(jn.a)(a.map((function(e){return[u,e]}))),Object(jn.a)(a.map((function(e){return[l,e]}))),Object(jn.a)(xn()(a,(function(e){return a.map((function(n){return[e,n]}))}))))}),[u,l,a]));return Object(r.useMemo)((function(){return Object.values(s.filter((function(e){return Boolean(e[0]===Pn&&e[1])})).reduce((function(e,n){var t=Object(i.a)(n,2)[1];return e[t.liquidityToken.address]=e[t.liquidityToken.address]?e[t.liquidityToken.address]:t,e}),{}))}),[s])}(u?u.currency:void 0,c);return Object(r.useMemo)((function(){if(u&&c&&l.length>0)try{var e=En.h.bestTradeExactIn(l,u,c,{maxHops:3,maxNumResults:1})[0];return e||null}catch(n){}return null}),[l,u,c])}function Un(e){var n=Object(T.a)().chainId,t=Object(r.useMemo)((function(){return e.map((function(e){var t=Object(i.a)(e,2),r=t[0],a=t[1];return[_n(r,n),_n(a,n)]}))}),[n,e]),a=Dn(Object(r.useMemo)((function(){return t.map((function(e){var n=Object(i.a)(e,2),t=n[0],r=n[1];return t&&r&&!t.equals(r)?En.e.getAddress(t,r):void 0}))}),[t]),Mn,"getReserves");return Object(r.useMemo)((function(){return a.map((function(e,n){var r=e.result,a=e.loading,o=t[n][0],c=t[n][1];if(a)return[Ln,null];if(!o||!c||o.equals(c))return[Hn,null];if(!r)return[Gn,null];var u=r._reserve0,l=r._reserve1,s=o.sortsBefore(c)?[o,c]:[c,o],d=Object(i.a)(s,2),f=d[0],m=d[1];return[Pn,new En.e(new En.g(f,u.toString()),new En.g(m,l.toString()))]}))}),[a,t])}function _n(e,n){return n&&e===En.c?En.i[n]:e instanceof En.f?e:void 0}function zn(e,n,t,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];try{if(e&&(n||0===n)&&t&&(r||0===r)){var o=v.a.BigNumber.from(10).pow(v.a.BigNumber.from(18));return a?e.mul(o).div(t).mul(v.a.BigNumber.from(10).pow(v.a.BigNumber.from(r))).div(v.a.BigNumber.from(10).pow(v.a.BigNumber.from(n))):t.mul(o).div(e).mul(v.a.BigNumber.from(10).pow(v.a.BigNumber.from(n))).div(v.a.BigNumber.from(10).pow(v.a.BigNumber.from(r)))}}catch(c){}}var Fn=t(192),Wn=t(221);function qn(){var e=Object(d.a)(["\n  width: fit-content;\n  margin: ",";\n"]);return qn=function(){return e},e}function $n(){var e=Object(d.a)(["\n  flex-wrap: wrap;\n  margin: ",";\n  justify-content: ",";\n\n  & > * {\n    margin: "," !important;\n  }\n"]);return $n=function(){return e},e}function Jn(){var e=Object(d.a)(["\n  display: flex;\n  align-items: flex-end;\n"]);return Jn=function(){return e},e}function Yn(){var e=Object(d.a)(["\n  justify-content: space-between;\n"]);return Yn=function(){return e},e}function Zn(){var e=Object(d.a)(["\n  width: ",";\n  display: flex;\n  padding: 0;\n  align-items: ",";\n  justify-content: ",";\n  padding: ",";\n  border: ",";\n  border-radius: ",";\n"]);return Zn=function(){return e},e}var Xn=Object(g.default)(Wn.Box)(Zn(),(function(e){var n=e.width;return null!==n&&void 0!==n?n:"100%"}),(function(e){var n=e.align;return null!==n&&void 0!==n?n:"center"}),(function(e){var n=e.justify;return null!==n&&void 0!==n?n:"flex-start"}),(function(e){return e.padding}),(function(e){return e.border}),(function(e){return e.borderRadius})),Kn=Object(g.default)(Xn)(Yn()),Qn=(g.default.div(Jn()),Object(g.default)(Xn)($n(),(function(e){var n=e.gap;return n&&"-".concat(n)}),(function(e){var n=e.justify;return n&&n}),(function(e){return e.gap})),Object(g.default)(Xn)(qn(),(function(e){var n=e.gap;return n&&"-".concat(n)})),t(76));function et(){var e=Object(d.a)(["\n  display: grid;\n  grid-auto-rows: auto;\n  grid-row-gap: ",";\n  justify-items: ",";\n"]);return et=function(){return e},e}function nt(){var e=Object(d.a)(["\n  width: 100%;\n  align-items: center;\n"]);return nt=function(){return e},e}function tt(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n"]);return tt=function(){return e},e}var rt=g.default.div(tt()),at=(Object(g.default)(rt)(nt()),g.default.div(et(),(function(e){var n=e.gap;return("sm"===n?"8px":"md"===n&&"12px")||"lg"===n&&"24px"||n}),(function(e){var n=e.justify;return n&&n}))),ot=t(220);function ct(){var e=Object(d.a)(["\n  position: absolute;\n  right: 1rem;\n  top: 14px;\n  &:hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n"]);return ct=function(){return e},e}function ut(){var e=Object(d.a)(["\n  flex: 1 1 auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  margin: 0 0.5rem 0 0.25rem;\n  font-size: 1rem;\n  width: fit-content;\n  font-weight: 500;\n"]);return ut=function(){return e},e}function it(){var e=Object(d.a)(["\n  background-color: ",";\n  border-bottom-left-radius: 20px;\n  border-bottom-right-radius: 20px;\n"]);return it=function(){return e},e}function lt(){var e=Object(d.a)(["\n  padding: 24px;\n"]);return lt=function(){return e},e}function st(){var e=Object(d.a)(["\n  width: 100%;\n"]);return st=function(){return e},e}var dt=g.default.div(st()),ft=Object(g.default)(at)(lt()),mt=Object(g.default)(ft)(it(),(function(e){return e.theme.bg2})),pt=g.default.p(ut()),bt=g.default.div(ct());function vt(e){var n=e.message,t=e.isOpen,r=e.onDismiss,o=Object(T.a)().chainId;return console.log(n),o?a.a.createElement(I.a,{isOpen:t,onDismiss:r,maxHeight:90},a.a.createElement(dt,null,a.a.createElement(ft,null,a.a.createElement(Kn,null,a.a.createElement(pt,{fontWeight:500,fontSize:20},"Error"),a.a.createElement(bt,{onClick:r})),a.a.createElement(at,{style:{marginTop:20,padding:"2rem 0"},gap:"24px",justify:"center"},a.a.createElement(Qn.AlertTriangle,{color:"#FD4040",style:{strokeWidth:1.5},size:64}),a.a.createElement(pt,{fontWeight:500,fontSize:16,color:"#FD4040",style:{textAlign:"center",width:"85%"}},n))),a.a.createElement(mt,{gap:"12px"},a.a.createElement(ot.a,{onClick:r},"Dismiss")))):null}var gt;t(1269);function Ot(){var e=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 2rem;\n\n  button {\n    max-width: 20rem;\n  }\n"]);return Ot=function(){return e},e}function ht(){var e=Object(d.a)(["\n  flex: 1 1 auto;\n  width: 0;\n  color: ",";\n"]);return ht=function(){return e},e}function jt(){var e=Object(d.a)(["\n  ",";\n  align-items: center;\n  color: ",";\n  font-size: 0.75rem;\n  padding: 0.5rem 1rem;\n"]);return jt=function(){return e},e}function Et(){var e=Object(d.a)(["\n  stroke: ",";\n  width: 0.625rem;\n  height: 0.625rem;\n  position: relative;\n  padding: 0.875rem;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  cursor: ",";\n"]);return Et=function(){return e},e}function yt(){var e=Object(d.a)(["\n  color: ",";\n  width: 0.625rem;\n  height: 0.625rem;\n  position: relative;\n  padding: 0.875rem;\n  cursor: ",";\n"]);return yt=function(){return e},e}function xt(){var e=Object(d.a)(["\n  ","\n  justify-content: center;\n  align-items: center;\n"]);return xt=function(){return e},e}var wt=g.default.div(xt(),(function(e){return e.theme.flexRowNoWrap})),kt=Object(g.default)((function(e){e.clickable,e.active;var n=Object(s.a)(e,["clickable","active"]);return a.a.createElement(bn,n)}))(yt(),(function(e){var n=e.theme;return e.active?n.royalGreen:n.chaliceGray}),(function(e){return e.clickable&&"pointer"})),Tt=Object(g.default)((function(e){var n=e.RateIconSVG,t=(e.clickable,e.active,e.icon,Object(s.a)(e,["RateIconSVG","clickable","active","icon"]));return a.a.createElement(n,t)}))(Et(),(function(e){var n=e.theme;return e.active?n.royalGreen:n.chaliceGray}),(function(e){return e.clickable&&"pointer"})),Nt=g.default.div(jt(),(function(e){return e.theme.flexRowNoWrap}),(function(e){return e.theme.doveGray})),Ct=g.default.span(ht(),(function(e){return e.theme.doveGray})),At=g.default.div(Ot());function St(e){return{independentValue:"",dependentValue:"",independentField:0,prevIndependentField:1,inputCurrency:"ETH",outputCurrency:e||"",rateOp:"x",inputRateValue:"",stoplossValue:""}}function Bt(e,n){switch(n.type){case"FLIP_INDEPENDENT":var t=e.inputCurrency,r=e.outputCurrency;return Object(l.a)(Object(l.a)({},e),{},{dependentValue:"",independentField:0,independentValue:"",inputRateValue:"",inputCurrency:r,outputCurrency:t,stoplossValue:""});case"FLIP_RATE_OP":var a=e.rateOp,o=e.inputRateValue,c=o?v.a.BigNumber.from(v.a.utils.parseUnits(o,18)):void 0,u=c?Object(N.a)(It(c),18,18,!1):"";return Object(l.a)(Object(l.a)({},e),{},{inputRateValue:u,rateOp:"/"===a?"x":"/"});case"SELECT_CURRENCY":var i=e.inputCurrency,s=e.outputCurrency,d=n.payload,f=d.field,m=d.currency,p=0===f?m:i,b=1===f?m:s;return p===b?Object(l.a)(Object(l.a)({},e),{},{inputCurrency:0===f?m:"",outputCurrency:1===f?m:""}):Object(l.a)(Object(l.a)({},e),{},{inputCurrency:p,outputCurrency:b});case"UPDATE_INDEPENDENT":var g=n.payload,O=g.field,h=g.value,j=e.dependentValue,E=e.independentValue,y=e.independentField,x=e.prevIndependentField,w=e.inputRateValue;return Object(l.a)(Object(l.a)({},e),{},{independentValue:2!==O?h:E,dependentValue:Number(h)===Number(E)?j:"",independentField:O,inputRateValue:2===O?h:w,prevIndependentField:y===O?x:y});case"UPDATE_DEPENDENT":return Object(l.a)(Object(l.a)({},e),{},{dependentValue:null===n.payload?gt:n.payload});case"UPDATE_STOPLOSS":return Object(l.a)(Object(l.a)({},e),{},{stoplossValue:null===n.payload?gt:n.payload?n.payload:0});default:return St()}}function Rt(e,n){try{if(e&&n){var t=v.a.BigNumber.from(10).pow(v.a.BigNumber.from(18));return t.mul(e).div(n).sub(t)}}catch(r){}}function It(e){try{if(e){var n=v.a.BigNumber.from(10).pow(v.a.BigNumber.from(18));return n.mul(n).div(e)}}catch(t){}}function Dt(e){var n,t,o,l,s=e.initialCurrency,d=Object(m.b)().t,b=Object(p.d)(),g=b.account,h=b.library,j=b.chainId,E=Object(r.useState)(!1),y=Object(i.a)(E,2),x=y[0],w=y[1],k=Object(r.useState)(""),C=Object(i.a)(k,2),A=C[0],S=C[1],B=Object(r.useReducer)(Bt,s,St),R=Object(i.a)(B,2),I=R[0],D=R[1],L=I.independentValue,G=I.independentField,P=I.inputCurrency,H=I.outputCurrency,M=I.rateOp,V=I.inputRateValue,U=I.stoplossValue,_=Object(T.k)(),z=Object(T.m)(),F=Object(r.useState)(),W=Object(i.a)(F,2),q=W[0],$=W[1],J=Object(Y.i)(),X=function(e,n){return e&&n?"ETH"===e?0:"ETH"===n?1:2:null}(P,H),K=Object(Z.c)(P),Q=K.symbol,ee=K.decimals,ne=Object(Z.c)(H),te=ne.symbol,re=ne.decimals,ae=Object(On.b)(g,P),oe=Object(On.b)(g,H),ce=ae&&Number.isInteger(ee)?Object(N.a)(ae,ee,Math.min(4,ee)):"",ue=oe&&Number.isInteger(re)?Object(N.a)(oe,re,Math.min(4,re)):"",ie=0===G||2===G?ee:re,le=1===G?ee:re,se=Object(r.useState)(),de=Object(i.a)(se,2),fe=de[0],me=de[1],pe=0===G?fe:gt,be=0===G?L:Object(N.a)(gt,ee,ee,!1),ve=Vn(P,0===G?L:be,H);switch(ve?gt=v.a.BigNumber.from(v.a.utils.parseUnits(ve.inputAmount.toExact(),ee)):0===G&&L&&(gt=v.a.BigNumber.from(v.a.utils.parseUnits(L,ee))),G){case 1:t=L,l=zn(pe,ee,o=fe,re,"/"===M);break;case 2:V&&0!==Number(V)?(l=function(e,n){try{return v.a.utils.parseUnits(e,n)}catch(r){var t=8*n;return v.a.utils.parseUnits(e,t).div(v.a.BigNumber.from(10).pow(t-n))}}(V,18),o=function(e,n,t,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];try{if(e&&n&&(t||0===t)&&(r||0===r)){var o=v.a.BigNumber.from(10).pow(v.a.BigNumber.from(18));return a?e.mul(o).div(n).mul(v.a.BigNumber.from(10).pow(v.a.BigNumber.from(r))).div(v.a.BigNumber.from(10).pow(v.a.BigNumber.from(t))):n.mul(e).div(o).mul(v.a.BigNumber.from(10).pow(v.a.BigNumber.from(r))).div(v.a.BigNumber.from(10).pow(v.a.BigNumber.from(t)))}}catch(c){}}(pe,l,ee,re,"/"===M),t=Object(N.a)(o,le,Math.min(4,le),!1)):(o="",t="");break;case 0:o=ve?v.a.utils.parseUnits(ve.outputAmount.toExact(),le):null,t=ve?ve.outputAmount.toSignificant(6):"",U=""!==U?U:t,l=zn(pe,ee,o,re,"/"===M)}var ge,Oe=2===G?V:Object(N.a)(l,18,4,!1),he="/"===M?Q:te,je="/"===M?te:Q,Ee=It(l),ye=Object(Fn.b)(),xe=Tn.c,we=null===ye||void 0===ye?void 0:ye.mul(xe),ke=Vn("ETH",Object(N.a)(we,18,18),P);"ETH"===Q?ge=we:ke&&(ge=v.a.utils.parseUnits(ke.outputAmount.toExact(),ee));var Te=ge&&(null===pe||void 0===pe?void 0:pe.sub(ge)),Ne=Te&&zn(Te,ee,o,re,"/"===M),Ce=v.a.BigNumber.from("30").mul(v.a.BigNumber.from(10).pow(v.a.BigNumber.from(16))),Ae=v.a.BigNumber.from("3").mul(v.a.BigNumber.from(10).pow(v.a.BigNumber.from(16))),Se=Object(r.useState)(),Be=Object(i.a)(Se,2),Re=Be[0],Ie=Be[1],De=Ne&&Rt(Ne,l),Le=null===Ne||void 0===Ne?void 0:Ne.lt(v.a.constants.Zero),Ge=Le||(null===De||void 0===De||null===(n=De.abs())||void 0===n?void 0:n.gt(Ae));Object(r.useEffect)((function(){if(L&&(ie||0===ie)){try{var e=v.a.utils.parseUnits(L,ie);if(e.lte(v.a.constants.Zero)||e.gte(v.a.constants.MaxUint256))throw Error();me(e),Ie(null)}catch(n){Ie(d("inputNotValid"))}return function(){me(),Ie()}}}),[L,ie,d]);var Pe=Object(r.useState)(!1),He=Object(i.a)(Pe,2),Me=He[0],Ve=He[1];Object(r.useEffect)((function(){var e=pe;ae&&e&&(ae.lt(e)?$(d("insufficientBalance")):($(null),Ve(!1)))}),[ae,P,d,pe]),Object(r.useEffect)((function(){if(1===G||2===G)return function(){D({type:"UPDATE_DEPENDENT",payload:null})}}),[G]);var Ue=Object(r.useState)(!1),_e=Object(i.a)(Ue,2),ze=_e[0],Fe=_e[1],We=zn(pe,ee,ve?v.a.utils.parseUnits(ve.outputAmount.toExact(),re):null,re,"/"===M),qe=It(We),$e="/"===M?Rt(Ee,qe):Rt(l,We),Je=$e&&$e.lt(v.a.BigNumber.from(0).sub(Ce)),Ye=Object(N.a)($e,16,2,!0),Ze=o&&!q&&!Re,Xe="(".concat(d("estimated"),")");function Ke(e){return"Balance: ".concat(e)}function Qe(){return(Qe=Object(u.a)(c.a.mark((function e(){var n,t,r,a,u,i,l,s,d,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.a.event({category:"place",action:"place"}),r=pe,a=o,u=U?v.a.BigNumber.from(v.a.utils.parseUnits(U,re)):v.a.BigNumber.from(0),0===X?(n=Tn.j[j],t=H):1===X?(n=P,t=Tn.b):2===X&&(n=P,t=H),e.prev=5,i={recipient:g.toLowerCase(),inputToken:n.toLowerCase(),outputToken:t.toLowerCase(),inputAmount:r,minReturnAmount:a,stoplossAmount:u},l=Object(N.k)(i),e.next=10,_.orderHash(l);case 10:if(e.sent!==Tn.l){e.next=36;break}if(0!==X){e.next=18;break}return e.next=15,z.createEthOrder(g.toLowerCase(),t.toLowerCase(),a,u,{value:r});case 15:s=e.sent,e.next=33;break;case 18:return e.next=20,Object(N.m)(g.toLowerCase(),n,Tn.h[j],h);case 20:if(!e.sent.lt(r)){e.next=30;break}return e.next=24,Object(N.g)(n,h,g);case 24:return d=e.sent,e.next=27,d.approve(Tn.h[j],v.a.constants.MaxUint256);case 27:return m=e.sent,e.next=30,m.wait();case 30:return e.next=32,_.createOrder(g.toLowerCase(),n.toLowerCase(),t.toLowerCase(),r,a,u);case 32:s=e.sent;case 33:s.hash&&(i.orderId=l,J(s,{action:Y.b,order:i})),e.next=38;break;case 36:S("There is already an order with same order id"),w(!0);case 38:e.next=45;break;case 40:e.prev=40,e.t0=e.catch(5),console.log("Error on place order",e.t0.message),S(e.t0.message),w(!0);case 45:case"end":return e.stop()}}),e,null,[[5,40]])})))).apply(this,arguments)}var en=Object(r.useState)(""),nn=Object(i.a)(en,1)[0],tn=Object(hn.b)();return a.a.createElement(a.a.Fragment,null,a.a.createElement(on,{title:d("input"),allBalances:tn,extraText:ce&&Ke(ce),extraTextClickHander:function(){if(ae&&ee){var e="ETH"===P?ae.sub(v.a.utils.parseEther(".1")):ae;e.gt(v.a.constants.Zero)&&D({type:"UPDATE_INDEPENDENT",payload:{value:Object(N.a)(e,ee,ee,!1),field:0}})}},onCurrencySelected:function(e){D({type:"SELECT_CURRENCY",payload:{currency:e,field:0}})},onValueChange:function(e){D({type:"UPDATE_INDEPENDENT",payload:{value:e,field:0}})},showUnlock:Me,selectedTokens:[P,H],selectedTokenAddress:P,value:be,errorMessage:q||(0===G?Re:"")}),a.a.createElement(pn,null,a.a.createElement(wt,null,a.a.createElement(Tt,{RateIconSVG:"x"===M?vn:gn,icon:M,onClick:function(){D({type:"FLIP_RATE_OP"})},clickable:!0,alt:"swap",active:Ze}))),a.a.createElement(on,{title:d("rate"),showCurrencySelector:!1,extraText:he&&Ee&&je?"1 ".concat(he," = ").concat(Object(N.a)(Ee,18,4,!1)," ").concat(je):"-",extraTextClickHander:function(){D({type:"FLIP_RATE_OP"})},value:Oe||"",onValueChange:function(e){D({type:"UPDATE_INDEPENDENT",payload:{value:e,field:2}})}}),a.a.createElement(pn,null,a.a.createElement(Nt,{onClick:function(){Fe((function(e){return!e}))}},a.a.createElement(Ct,null,"Execution rate at ",ye?Object(N.a)(ye,9,0,!1):"..."," GWEI"),Le?"Never executes":"/"!==M||"/"!==M?a.a.createElement("span",null,Ne?"1 ".concat(Q," = ").concat(Object(N.a)(Ne,18,4,!1)," ").concat(te):" - "):a.a.createElement("span",null,Ne?"1 ".concat(te," = ").concat(Object(N.a)(Ne,18,4,!1)," ").concat(Q):" - ")),a.a.createElement(wt,null,a.a.createElement(kt,{onClick:function(){D({type:"FLIP_INDEPENDENT"})},clickable:!0,alt:"swap",active:Ze}))),a.a.createElement(on,{title:d("output"),allBalances:tn,description:Xe,extraText:ue&&Ke(ue),onCurrencySelected:function(e){D({type:"SELECT_CURRENCY",payload:{currency:e,field:1}}),D({type:"UPDATE_INDEPENDENT",payload:{value:be,field:0}})},onValueChange:function(e){D({type:"UPDATE_INDEPENDENT",payload:{value:e,field:1}})},selectedTokens:[P,H],selectedTokenAddress:H,value:t,errorMessage:1===G?Re:"",disableUnlock:!0}),a.a.createElement("div",{className:"stop-loss"},a.a.createElement("div",{className:"sc-cQFLBn gigTmf"}),a.a.createElement("div",{className:"sc-gojNiO OVrhN"})),a.a.createElement(on,{title:d("Stop Loss"),showCurrencySelector:!1,onValueChange:function(e){D({type:"UPDATE_STOPLOSS",payload:e})},value:U,disableUnlock:!0}," "),a.a.createElement(pn,{hideBottom:!0},a.a.createElement(Nt,{onClick:function(){Fe((function(e){return!e}))}},a.a.createElement(Ct,null,d("exchangeRate")),ze?a.a.createElement("span",null,We?"1 ".concat(Q," = ").concat(Object(N.a)(We,18,4,!1)," ").concat(te):" - "):a.a.createElement("span",null,We?"1 ".concat(te," = ").concat(Object(N.a)(qe,18,4,!1)," ").concat(Q):" - "))),a.a.createElement(At,null,a.a.createElement(O.b,{disabled:!g||!Ze||"invalid"===nn,onClick:function(){return Qe.apply(this,arguments)},warning:Je||Ge||"warning"===nn},d("warning"===nn?"placeAnyway":"place"))),Ye&&a.a.createElement("div",{className:"market-delta-info"},Ye.startsWith("-")?d("placeBelow",{rateDelta:Ye}):d("placeAbove",{rateDelta:Ye})),Je&&a.a.createElement("div",{className:"slippage-warning"},a.a.createElement("span",{role:"img","aria-label":"warning"},"\u26a0\ufe0f"),d("highSlippageWarning")),Ge&&a.a.createElement("div",{className:"slippage-warning"},a.a.createElement("span",{role:"img","aria-label":"warning"},"\u26a0\ufe0f"),"Order too small, extreme execution rate"),A?a.a.createElement(vt,{isOpen:x,onDismiss:function(){S(""),w(!1)},message:A}):null)}t(1270);function Lt(){var e=Object(d.a)(["\n  color: ",";\n  width: 0.625rem;\n  height: 0.625rem;\n  position: relative;\n"]);return Lt=function(){return e},e}function Gt(){var e=Object(d.a)(["\n  flex: 1 1 auto;\n"]);return Gt=function(){return e},e}function Pt(){var e=Object(d.a)(["\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-flex-flow: column nowrap;\n  -ms-flex-flow: column nowrap;\n  flex-flow: column nowrap;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.05);\n  position: relative;\n  border-radius: 1.25rem;\n  z-index: 1;\n  padding: 20px;\n  margin-bottom: 40px;\n  border: ",";\n  background-color: ",";\n"]);return Pt=function(){return e},e}function Ht(){var e=Object(d.a)(["\n  color: ",";\n  padding: 0px 6px 0px 6px;\n  font-size: 0.85rem;\n"]);return Ht=function(){return e},e}var Mt=g.default.div(Ht(),(function(e){e.selected;var n=e.theme;return n.textColor})),Vt=g.default.div(Pt(),(function(e){var n=e.theme;return"1px solid ".concat(n.mercuryGray)}),(function(e){return e.theme.concreteGray})),Ut=g.default.div(Gt()),_t=Object(g.default)((function(e){e.clickable,e.active;var n=Object(s.a)(e,["clickable","active"]);return a.a.createElement(bn,Object.assign({},n,{transform:"rotate(-90)"}))}))(Lt(),(function(e){return e.theme.royalGreen}));function zt(e){var n=Object(m.b)().t,t=Object(p.d)().chainId,o=e.data,l=o.inputToken===Tn.b.toLowerCase()?"ETH":v.a.utils.getAddress(o.inputToken),s=o.outputToken===Tn.b.toLowerCase()?"ETH":v.a.utils.getAddress(o.outputToken),d=Object(Z.c)(l),f=d.symbol,b=d.decimals,g=Object(Z.c)(s),O=g.symbol,h=g.decimals,j=Object(Y.g)(o),E=j.state,y=j.last,x=E===Y.a,k=E===Y.b,C=Object(T.k)(),A=Object(Y.i)();function S(){return(S=Object(u.a)(c.a.mark((function e(n,t){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.orderId,a=n.orderEncodedData,C.cancelOrder(r,a,{gasLimit:t?4e5:void 0}).then((function(e){A(e,{action:Y.a,order:n})}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=v.a.BigNumber.from("0"===o.inputAmount&&o.creationAmount?o.creationAmount:o.inputAmount),R=v.a.BigNumber.from(o.minReturnAmount),I=v.a.BigNumber.from(o.stoplossAmount),D=y?Object(N.i)(t,y.response.hash,"transaction"):void 0,L=zn(B,b,R,h,!1),G=zn(B,b,R,h,!0),P=Object(Fn.b)(),H=Tn.c,M=null===P||void 0===P?void 0:P.mul(H),V=Vn("ETH",Object(N.a)(M,18,18),l),U="",_="";try{var z=Object(r.useMemo)((function(){if(!P)return[void 0,void 0];var e;try{if("ETH"===l)e=M;else{if(!V||!M)return[void 0,void 0];e=v.a.utils.parseUnits(V.outputAmount.toExact(),b)}return[zn(B.sub(e),b,R,h,!1),zn(B.sub(e),b,R,h,!0)]}catch(n){return[void 0,void 0]}}),[b,B,R,M,h,l,V,P]),F=Object(i.a)(z,2),W=F[0],$=F[1];_=(null===W||void 0===W?void 0:W.gt(v.a.constants.Zero))?"Execution rate: ".concat(W?Object(N.a)(W,18,3):"..."," ").concat(f,"/").concat(O," -\n        ").concat($?Object(N.a)($,18,3):"..."," ").concat(O,"/").concat(f,"* "):W?"Execution rate: never executes":"",U="Required rate to execute order assuming gas price of ".concat(P?Object(N.a)(P,9,2):"..."," GWEI")}catch(J){console.warn("Error computing virtual rate",J)}return a.a.createElement(Vt,{className:"order ".concat(o.status)},a.a.createElement("div",{className:"tokens"},a.a.createElement(Le,{selected:!0},a.a.createElement(Ge,null,a.a.createElement(q,{address:l}),a.a.createElement(rn,null,f))),a.a.createElement(Ge,null,a.a.createElement(_t,{transform:"rotate(-90)"})),a.a.createElement(Le,{selected:!0},a.a.createElement(Ge,null,a.a.createElement(q,{address:s}),a.a.createElement(rn,null,O))),a.a.createElement(Ut,null),a.a.createElement(Le,{selected:!0,disabled:x,onClick:function(){return function(e,n){return S.apply(this,arguments)}(o,k)}},a.a.createElement(Mt,null,x&&y&&y.response.CUSTOM_DATA.order.orderId===o.orderId?"Cancelling ...":n("cancel"))))," ",a.a.createElement("p",null,"Sell: ".concat(Object(N.a)(B,b,6))," ",f),a.a.createElement("p",null,"Receive: ".concat(Object(N.a)(R,h,6))," ",O),a.a.createElement("p",null,"Stoploss: ".concat(Object(N.a)(I,h,6))," ",O),a.a.createElement("p",null,"Rate: ".concat(Object(N.a)(L,18,6))," ",f,"/",O," - ",Object(N.a)(G,18,6)," ",O,"/",f),a.a.createElement(w.a,{label:U,style:{background:"hsla(0, 0%, 0%, 0.75)",color:"white",border:"none",borderRadius:"24px",padding:"0.5em 1em",marginTop:"-64px"}},a.a.createElement("p",null,_)),a.a.createElement("p",null,y&&y.response.CUSTOM_DATA.order.orderId===o.orderId&&a.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:D,className:"order-link"},"Pending transaction...")))}var Ft=t(267),Wt=t.n(Ft);t(1271);function qt(){var e=Object(d.a)(["\n  color: ",";\n  width: 0.625rem;\n  height: 0.625rem;\n  position: relative;\n"]);return qt=function(){return e},e}function $t(){var e=Object(d.a)(["\n  flex: 1 1 auto;\n"]);return $t=function(){return e},e}function Jt(){var e=Object(d.a)(["\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-flex-flow: column nowrap;\n  -ms-flex-flow: column nowrap;\n  flex-flow: column nowrap;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.05);\n  position: relative;\n  border-radius: 1.25rem;\n  z-index: 1;\n  padding: 20px;\n  margin-bottom: 40px;\n  border: ",";\n  background-color: ",";\n"]);return Jt=function(){return e},e}var Yt=g.default.div(Jt(),(function(e){var n=e.theme;return"1px solid ".concat(n.mercuryGray)}),(function(e){return e.theme.concreteGray})),Zt=g.default.div($t()),Xt=Object(g.default)((function(e){e.clickable,e.active;var n=Object(s.a)(e,["clickable","active"]);return a.a.createElement(bn,Object.assign({},n,{transform:"rotate(-90)"}))}))(qt(),(function(e){return e.theme.royalGreen}));function Kt(e){var n=Object(p.d)().chainId,t=e.data,r=t.inputToken===Tn.b.toLowerCase()?"ETH":v.a.utils.getAddress(t.inputToken),o=t.outputToken===Tn.b.toLowerCase()?"ETH":v.a.utils.getAddress(t.outputToken),c=Object(Z.c)(r),u=c.symbol,i=c.decimals,l=Object(Z.c)(o),s=l.symbol,d=l.decimals,f="CANCELLED"===t.status,m="EXECUTED"===t.status,b=v.a.BigNumber.from(t.inputAmount),g=v.a.BigNumber.from(t.minReturnAmount),O=Object(N.i)(n,f?t.cancelledTxHash:t.executedTxHash,"transaction");return a.a.createElement(Yt,{className:"order ".concat(t.status)},a.a.createElement("div",{className:"tokens"},a.a.createElement(Le,{selected:!0},a.a.createElement(Ge,null,a.a.createElement(q,{address:r}),a.a.createElement(rn,null,u))),a.a.createElement(Ge,null,a.a.createElement(Xt,{transform:"rotate(-90)"})),a.a.createElement(Le,{selected:!0},a.a.createElement(Ge,null,a.a.createElement(q,{address:o}),a.a.createElement(rn,null,s))),a.a.createElement(Zt,null)),m&&a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Sold: ".concat(Object(N.a)(b,i,6))," ",u),a.a.createElement("p",null,"Date: ".concat(new Date(1e3*t.updatedAt).toLocaleDateString())),a.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:O,className:"order-link"},"Executed")),f&&a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Sell: ".concat(Object(N.a)(b,i,6))," ",u),a.a.createElement("p",null,"Expected: ".concat(Object(N.a)(g,d,6))," ",s),a.a.createElement("p",null,"Date: ".concat(new Date(1e3*t.updatedAt).toLocaleDateString())),a.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:O,className:"order-link"},"Cancelled")))}function Qt(){var e=Object(p.d)(),n=function(e,n){var t=Object(r.useState)([]),a=Object(i.a)(t,2),o=a[0],c=a[1];return Object(r.useEffect)((function(){e&&Object(N.t)(e)&&function(e,n){return er.apply(this,arguments)}(e,n).then((function(e){c(e)}))}),[e,n]),o}(e.account,e.chainId);return n.length>0?a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{style:{marginTop:"40px",fontSize:"24px"}},"History"),n.map((function(e){return a.a.createElement(Kt,{key:e.id,data:e})}))):null}function er(){return(er=Object(u.a)(c.a.mark((function e(n,t){var r,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"\n  query GetOrdersByOwner($owner: String) {\n    orders(where:{recipient:$owner,status_not:ACTIVE}) {\n      id\n      inputToken\n      outputToken\n      inputAmount\n      minReturnAmount\n      stoplossAmount\n      status\n      updatedAt\n      executedTxHash\n      cancelledTxHash\n    }\n  }",e.prev=1,e.next=4,fetch(Tn.f[t],{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"\n  query GetOrdersByOwner($owner: String) {\n    orders(where:{recipient:$owner,status_not:ACTIVE}) {\n      id\n      inputToken\n      outputToken\n      inputAmount\n      minReturnAmount\n      stoplossAmount\n      status\n      updatedAt\n      executedTxHash\n      cancelledTxHash\n    }\n  }",variables:{owner:n.toLowerCase()}})});case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,o=a.data,e.abrupt("return",o.orders);case 12:return e.prev=12,e.t0=e.catch(1),console.warn("Error loading orders from TheGraph",e.t0),e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function nr(){var e=Object(d.a)(["\n  margin: 0 0.25rem 0 0.25rem;\n"]);return nr=function(){return e},e}var tr=Object(g.default)(O.e)(nr());function rr(e,n,t){return e+n.toString()+t}function ar(e,n){if(!e)return[];console.log("Loading saved orders from storage location",e,rr("orders_",e,n));var t=b.get(rr("orders_",e,n));return null==t?[]:t}function or(e,n){return cr.apply(this,arguments)}function cr(){return(cr=Object(u.a)(c.a.mark((function e(n,t){var r,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"\n  query GetOrdersByOwner($owner: String) {\n    orders(where:{recipient:$owner,status:ACTIVE}) {\n      id\n      orderId\n      recipient {\n        id\n      }\n      inputToken\n      outputToken\n      inputAmount\n      minReturnAmount\n      stoplossAmount\n      inputTokenSymbol\n      outputTokenSymbol\n      decodedInputAmount\n      decodedMinReturnAmount\n      decodedStoplossAmount\n      orderEncodedData\n      shares\n      createdAtBlock\n    }\n  }",e.prev=1,e.next=4,fetch(Tn.f[t],{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"\n  query GetOrdersByOwner($owner: String) {\n    orders(where:{recipient:$owner,status:ACTIVE}) {\n      id\n      orderId\n      recipient {\n        id\n      }\n      inputToken\n      outputToken\n      inputAmount\n      minReturnAmount\n      stoplossAmount\n      inputTokenSymbol\n      outputTokenSymbol\n      decodedInputAmount\n      decodedMinReturnAmount\n      decodedStoplossAmount\n      orderEncodedData\n      shares\n      createdAtBlock\n    }\n  }",variables:{owner:n.toLowerCase()}})});case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,o=a.data,e.abrupt("return",{allOrders:[],openOrders:o.orders});case 12:return e.prev=12,e.t0=e.catch(1),console.warn("Error loading orders from TheGraph",e.t0),e.abrupt("return",{allOrders:[],openOrders:[]});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function ur(){var e=Object(m.b)().t,n=Object(p.d)(),t=n.account,o=n.chainId,c=Object(T.k)(),u=Object(r.useState)([]),l=Object(i.a)(u,2),s=l[0],d=l[1],f=Object(r.useState)(!0),b=Object(i.a)(f,2),v=b[0],g=b[1];Object(r.useEffect)((function(){g(!t)}),[t]);var O=Object(Y.f)(),h=Object(Y.e)(),j=function(e,n,t){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=Object(r.useState)({allOrders:[],openOrders:[]}),c=Object(i.a)(o,2),u=c[0],l=c[1];return Object(r.useEffect)((function(){if(console.log("Requesting load orders from storage"),Object(N.t)(e)){var t=ar(e,n);console.log("Loaded ".concat(t.length," orders from local storage")),t.length>0&&l({allOrders:t,openOrders:t.filter((function(e){return"0"!==e.inputAmount}))})}}),[].concat(Object(jn.a)(a),[e,n,t])),u}(t,o,c,[O.length,h.length]),E=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=Object(r.useState)({openOrders:[],allOrders:[]}),o=Object(i.a)(a,2),c=o[0],u=o[1];return Object(r.useEffect)((function(){console.log("Requesting load orders from the graph"),e&&Object(N.t)(e)&&setTimeout((function(){or(e,n).then((function(e){console.log("Fetched ".concat(e.allOrders.length," ").concat(e.openOrders.length," orders from the graph")),u(e)}))}),4e3)}),[].concat(Object(jn.a)(t),[e,n])),c}(t,o,[O.length,h.length]);return Object(r.useEffect)((function(){var e=j.allOrders.concat(E.allOrders.filter((function(e){return!j.allOrders.find((function(n){return n.orderId===e.orderId}))}))),n=j.openOrders.concat(E.openOrders.filter((function(e){return!j.allOrders.find((function(n){return n.orderId===e.orderId}))})));d(n.concat(e.filter((function(e){return O.find((function(n){return n.orderId===e.orderId}))}))))}),[j.allOrders.length,j.openOrders.length,E.allOrders.length,E.openOrders.length,O.length]),a.a.createElement(a.a.Fragment,null,t&&a.a.createElement(a.a.Fragment,null,a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{className:"orders-title"},"".concat(e("Orders")," ").concat(s.length>0?"(".concat(s.length,")"):"")),v&&a.a.createElement(a.a.Fragment,null,a.a.createElement(tr,{src:Wt.a,alt:"loader"})," Loading ...",a.a.createElement("br",null),a.a.createElement("br",null)),0===s.length&&!v&&a.a.createElement("p",null,e("noOpenOrders")),a.a.createElement("div",null,s.map((function(e){return a.a.createElement(zt,{key:e.orderId,data:e})})))),a.a.createElement(Qt,null)))}function ir(e){var n=e.initialCurrency;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Dt,{initialCurrency:n}),a.a.createElement(ur,null))}}}]);
//# sourceMappingURL=9.b22a1dd8.chunk.js.map